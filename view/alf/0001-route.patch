From 41c341dc4b3961d5ef214fb228e19afe9d071778 Mon Sep 17 00:00:00 2001
From: "nkhanhng97@gmail.com" <khanhmatden123@gmail.com>
Date: Thu, 1 Nov 2018 21:09:45 +0700
Subject: [PATCH] route

---
 view/alf/package.json                   |  1 +
 view/alf/src/App.js                     | 17 ++++++++++------
 view/alf/src/components/Header.js       |  5 +++--
 view/alf/src/components/LearnContent.js | 36 +++++++++++++++++++++++++++++++++
 view/alf/src/data/lessons.json          | 28 ++++++++++++-------------
 5 files changed, 65 insertions(+), 22 deletions(-)
 create mode 100644 view/alf/src/components/LearnContent.js

diff --git a/view/alf/package.json b/view/alf/package.json
index 1e9ce1a..8f43eb8 100644
--- a/view/alf/package.json
+++ b/view/alf/package.json
@@ -5,6 +5,7 @@
   "dependencies": {
     "react": "^16.6.0",
     "react-dom": "^16.6.0",
+    "react-router-dom": "^4.3.1",
     "react-scripts": "2.1.0"
   },
   "scripts": {
diff --git a/view/alf/src/App.js b/view/alf/src/App.js
index ae493a4..cc0a401 100644
--- a/view/alf/src/App.js
+++ b/view/alf/src/App.js
@@ -1,19 +1,24 @@
-import React, {Component} from 'react';
+import React, { Component } from 'react';
 import logo from './logo.svg';
 import './App.css';
 import HomeContent from './components/HomeContent';
 import Header from './components/Header';
 import Footer from './components/Footer';
+import { BrowserRouter as Router, Route, Switch } from "react-router-dom"
+import LearnContent from './components/LearnContent';
 
 class App extends Component {
 
   render() {
     return (
-      <div className="App">
-        <Header/>
-        <HomeContent/>
-        <Footer/>
-      </div>
+      <Router>
+        <div className="App">
+          <Header />
+            <Route exact path="/" component={HomeContent}/>
+            <Route path="/listening/:name" component={LearnContent}/>
+          <Footer />
+        </div>
+      </Router>
     );
   }
 }
diff --git a/view/alf/src/components/Header.js b/view/alf/src/components/Header.js
index 64bb588..108909c 100644
--- a/view/alf/src/components/Header.js
+++ b/view/alf/src/components/Header.js
@@ -1,5 +1,6 @@
 import React, {Component} from 'react';
 import Lessons from "../data/lessons";
+import {Link} from 'react-router-dom';
 
 class Header extends Component {
   // need sort by levels after reduce
@@ -30,7 +31,7 @@ class Header extends Component {
           <div className="dropdown-menu" aria-labelledby="navbarDropdown">
             {level.lessons.map((lesson) => {
               return (
-                <a className="dropdown-item" href={lesson.url}>{lesson.title}</a>
+                <Link className="dropdown-item" to={`/listening/${lesson.url}`}>{lesson.title}</Link>
               );
             })}
           </div>
@@ -43,7 +44,7 @@ class Header extends Component {
         <div className="jumbotron">
           <h1>Lawless French</h1>
           <nav className="navbar navbar-expand-lg navbar-light bg-light">
-            <a className="navbar-brand" href="#">Home</a>
+            <Link to="/" className="navbar-brand" href="#">Home</Link>
             <button className="navbar-toggler" type="button" data-toggle="collapse"
                     data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                     aria-label="Toggle navigation">
diff --git a/view/alf/src/components/LearnContent.js b/view/alf/src/components/LearnContent.js
new file mode 100644
index 0000000..216da6d
--- /dev/null
+++ b/view/alf/src/components/LearnContent.js
@@ -0,0 +1,36 @@
+import React, { Component } from 'react';
+import Lessons from "../data/lessons";
+
+class LearnContent extends Component {
+    render() {
+        const name = this.props.match.params.name
+
+        let result = Lessons.filter(obj => {
+            return obj.url === name
+        })
+
+        let youtubeUrl = result[0].youtube_url 
+        
+        return (
+            <div className="container">
+                <div className="text-center">
+                    <div>
+                        <div className="embed-responsive embed-responsive-16by9 border border-dark rounded">
+                            <iframe className="embed-responsive-item" src={youtubeUrl} />
+                        </div>
+                        <div className="mt-3">
+                            <div className="form-group">
+                                <label>Answer</label>
+                                <textarea className="form-control" rows={5} id="answer" defaultValue={""} />
+                            </div>
+                        </div>
+                        <button type="button" className="btn btn-success">Submit</button>
+                    </div>
+                </div>
+            </div>
+
+        );
+    }
+}
+
+export default LearnContent;
\ No newline at end of file
diff --git a/view/alf/src/data/lessons.json b/view/alf/src/data/lessons.json
index fecce0e..4340b3d 100644
--- a/view/alf/src/data/lessons.json
+++ b/view/alf/src/data/lessons.json
@@ -3,56 +3,56 @@
     "id": "1",
     "level": "A1",
     "title": "C'est l'Halloween",
-    "url": "listening/cest-lhalloween",
-    "youtube_url": "https://www.youtube.com/watch?v=XqcnxnEn2ME"
+    "url": "cest-lhalloween",
+    "youtube_url": "https://www.youtube.com/embed/XqcnxnEn2ME?controls=0"
   },
   {
     "id": "2",
     "level": "A2",
     "title": "À l'hôtel",
-    "url": "listening/a-lhotel",
-    "youtube_url": "https://www.youtube.com/watch?v=j23PZlfQuN4"
+    "url": "a-lhotel",
+    "youtube_url": "https://www.youtube.com/embed/j23PZlfQuN4"
   },
   {
     "id": "3",
     "level": "B1",
     "title": "Achats dans une grande surface",
     "url": "achats-dans-une-grande-surface",
-    "youtube_url": "https://www.youtube.com/watch?v=lKHl7RsJ3wc"
+    "youtube_url": "https://www.youtube.com/embed/lKHl7RsJ3wc"
   },
   {
     "id": "4",
     "level": "B2",
     "title": "Au restaurant",
-    "url": "listening/au-restaurant",
-    "youtube_url": "https://www.youtube.com/watch?v=b7yEUEw3UOo"
+    "url": "au-restaurant",
+    "youtube_url": "https://www.youtube.com/embed/b7yEUEw3UOo"
   },
   {
     "id": "5",
     "level": "A1",
     "title": "Bonjour, bonjour !",
-    "url": "listening/bonjour-bonjour",
-    "youtube_url": "https://www.youtube.com/watch?v=atNkI6QFZ50"
+    "url": "bonjour-bonjour",
+    "youtube_url": "https://www.youtube.com/embed/atNkI6QFZ50"
   },
   {
     "id": "6",
     "level": "A2",
     "title": "Dîner en ville",
-    "url": "listening/diner-en-ville",
-    "youtube_url": "https://www.youtube.com/watch?v=0w0BrI0_vlU"
+    "url": "diner-en-ville",
+    "youtube_url": "https://www.youtube.com/embed/0w0BrI0_vlU"
   },
   {
     "id": "7",
     "level": "B1",
     "title": "Le petit-déjeuner et le goûter",
     "url": "le-petit-dejeuner-et-le-gouter",
-    "youtube_url": "https://www.youtube.com/watch?v=F9x9sBEyGyA"
+    "youtube_url": "https://www.youtube.com/embed/F9x9sBEyGyA"
   },
   {
     "id": "8",
     "level": "B2",
     "title": "Advent",
-    "url": "listening/advent",
-    "youtube_youtube_url": "https://www.youtube.com/watch?v=H3Mt2WQemEk"
+    "url": "advent",
+    "youtube_youtube_url": "https://www.youtube.com/embed/H3Mt2WQemEk"
   }
 ]
\ No newline at end of file
-- 
2.14.2.windows.2

